<?xml version="1.0" encoding="UTF-8"?>
<Server port="8005"
        shutdown="SHUTDOWN">
	<Listener className="org.apache.catalina.startup.VersionLoggerListener"/>
	<Listener className="org.apache.catalina.core.AprLifecycleListener"
	          SSLEngine="on"/>
	<Listener className="org.apache.catalina.core.JreMemoryLeakPreventionListener"/>
	<Listener className="org.apache.catalina.mbeans.GlobalResourcesLifecycleListener"/>
	<Listener className="org.apache.catalina.core.ThreadLocalLeakPreventionListener"/>
	<GlobalNamingResources>
		<Resource name="UserDatabase"
		          auth="Container"
		          type="org.apache.catalina.UserDatabase"
		          description="User database that can be updated and saved"
		          factory="org.apache.catalina.users.MemoryUserDatabaseFactory"
		          pathname="conf/tomcat-users.xml"/>
	</GlobalNamingResources>
	<Service name="localhost">
		<Connector address="127.0.0.1"
		           port="8080"
		           maxPostSize="-1"
		           disableUploadTimeout="false"
		           connectionTimeout="20000"
		           protocol="org.apache.coyote.http11.Http11Nio2Protocol"
		           redirectPort="8443"
		           URIEncoding="UTF-8"/>
		<!-- La configuraciÃ³n de SSL/TLS se indica aqui -->
		<Connector address="127.0.0.1"
		           port="8443"
		           protocol="org.apache.coyote.http11.Http11Nio2Protocol"
		           maxThreads="150"
		           SSLEnabled="true"
		           defaultSSLHostConfigName="localhost">
			<UpgradeProtocol className="org.apache.coyote.http2.Http2Protocol"/>
			<SSLHostConfig hostName="localhost">
				<Certificate certificateKeystoreFile="conf/ssl/tomcat.jks"
				             certificateKeystoreType="JKS"
				             certificateKeystorePassword="tomcat"
				             type="RSA"/>
			</SSLHostConfig>
		</Connector>
		<Engine name="localhost"
		        defaultHost="localhost">
			<Realm className="org.apache.catalina.realm.LockOutRealm">
				<Realm className="org.apache.catalina.realm.UserDatabaseRealm"
				       resourceName="UserDatabase"/>
			</Realm>
			<Host name="localhost"
			      appBase="webapps"
			      unpackWARs="true"
			      autoDeploy="true">
				<Valve className="org.apache.catalina.valves.AccessLogValve"
				       directory="logs"
				       prefix="localhost_access_log"
				       suffix=".txt"
				       pattern="%h %l %u %t &quot;%r&quot; %s %b"/>
			</Host>
		</Engine>
	</Service>
</Server>
